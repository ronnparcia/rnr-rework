{##
 #  @file category.twig
 #  @desc This is the template file for the category page of the Rant and Rave website. 
 #        It displays a list of posts in a specific category.
 #}

{# Extend the base template #}
{% extends "base.twig" %}

{# Set the title of the page #}
{% block title %}
    {{ category|capitalize }} - Rant and Rave {# Capitalize the category name's first letter #}
{% endblock %}

{# Set the content of the page #}
{% block content %}
    {# Capitalize the category name's first letter #}
    <h1>{{ category|capitalize }}</h1>

    {# Loop through the posts and display their titles #}
    {% for post in posts %}
        <p>{{ post["title"]["rendered"] }}</p>
    {% endfor %}

    {# Display pagination links #}
    <div>
        {# Display current page and total page count #}
        Page {{ page }} of {{ pageCount }}

        {# If the current page is not page 1, display a link to the previous page. #}
        {% if page > 1 %}
            <a href="{{ path_for('category', { 'category': category, 'page': page - 1 }) }}">Previous</a>
        {% endif %}

        {# If the current page is not the last page, display a link to the next page. #}
        {% if page < pageCount %}
            <a href="{{ path_for('category', { 'category': category, 'page': page + 1 }) }}">Next</a>
        {% endif %}
    </div>
{% endblock %}